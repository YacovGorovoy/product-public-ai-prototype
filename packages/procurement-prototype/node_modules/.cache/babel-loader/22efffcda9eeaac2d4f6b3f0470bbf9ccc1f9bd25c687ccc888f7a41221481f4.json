{"ast":null,"code":"// Comment component for displaying individual comments\nimport React from'react';import Tag from'./Tag';/**\r\n * Comment component for displaying individual comments\r\n * @param {Object} user - User object with email and optional name\r\n * @param {string} timestamp - Comment timestamp (e.g., \"4 days ago\")\r\n * @param {string} message - Comment message text\r\n * @param {function} onTagClick - Optional callback for tag clicks\r\n * @param {string} className - Additional classes\r\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Comment(_ref){let{user,timestamp,message,onTagClick,className=''}=_ref;// Parse message to find @mentions and create Tag components\nconst parseMessage=text=>{const mentionRegex=/@([^\\s]+)/g;const parts=[];let lastIndex=0;let match;while((match=mentionRegex.exec(text))!==null){// Add text before the mention\nif(match.index>lastIndex){parts.push({type:'text',content:text.substring(lastIndex,match.index)});}// Add the mention as a tag\nparts.push({type:'mention',content:match[0],email:match[1]});lastIndex=match.index+match[0].length;}// Add remaining text\nif(lastIndex<text.length){parts.push({type:'text',content:text.substring(lastIndex)});}return parts;};const messageParts=parseMessage(message);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 \".concat(className),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3 text-blue-600\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z\",clipRule:\"evenodd\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-600 truncate\",children:user.email}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:timestamp})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700 leading-relaxed\",children:messageParts.map((part,index)=>{if(part.type==='mention'){return/*#__PURE__*/_jsx(Tag,{text:part.content,email:part.email,onClick:()=>onTagClick&&onTagClick(part.email)},index);}return/*#__PURE__*/_jsx(\"span\",{children:part.content},index);})})]})]});}","map":{"version":3,"names":["React","Tag","jsx","_jsx","jsxs","_jsxs","Comment","_ref","user","timestamp","message","onTagClick","className","parseMessage","text","mentionRegex","parts","lastIndex","match","exec","index","push","type","content","substring","email","length","messageParts","concat","children","fill","viewBox","fillRule","d","clipRule","map","part","onClick"],"sources":["C:/Users/yacov.gorovoy/Documents/Cursor-workspace/procurement-prototype/src/components/Comment.js"],"sourcesContent":["// Comment component for displaying individual comments\r\nimport React from 'react';\r\nimport Tag from './Tag';\r\n\r\n/**\r\n * Comment component for displaying individual comments\r\n * @param {Object} user - User object with email and optional name\r\n * @param {string} timestamp - Comment timestamp (e.g., \"4 days ago\")\r\n * @param {string} message - Comment message text\r\n * @param {function} onTagClick - Optional callback for tag clicks\r\n * @param {string} className - Additional classes\r\n */\r\nexport default function Comment({ \r\n  user, \r\n  timestamp, \r\n  message, \r\n  onTagClick,\r\n  className = '' \r\n}) {\r\n  // Parse message to find @mentions and create Tag components\r\n  const parseMessage = (text) => {\r\n    const mentionRegex = /@([^\\s]+)/g;\r\n    const parts = [];\r\n    let lastIndex = 0;\r\n    let match;\r\n\r\n    while ((match = mentionRegex.exec(text)) !== null) {\r\n      // Add text before the mention\r\n      if (match.index > lastIndex) {\r\n        parts.push({\r\n          type: 'text',\r\n          content: text.substring(lastIndex, match.index)\r\n        });\r\n      }\r\n\r\n      // Add the mention as a tag\r\n      parts.push({\r\n        type: 'mention',\r\n        content: match[0],\r\n        email: match[1]\r\n      });\r\n\r\n      lastIndex = match.index + match[0].length;\r\n    }\r\n\r\n    // Add remaining text\r\n    if (lastIndex < text.length) {\r\n      parts.push({\r\n        type: 'text',\r\n        content: text.substring(lastIndex)\r\n      });\r\n    }\r\n\r\n    return parts;\r\n  };\r\n\r\n  const messageParts = parseMessage(message);\r\n\r\n  return (\r\n    <div className={`flex space-x-3 ${className}`}>\r\n      {/* Comment bubble icon */}\r\n      <div className=\"flex-shrink-0\">\r\n        <div className=\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center\">\r\n          <svg className=\"w-3 h-3 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path fillRule=\"evenodd\" d=\"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Comment content */}\r\n      <div className=\"flex-1 min-w-0\">\r\n        {/* User info and timestamp */}\r\n        <div className=\"flex items-center space-x-2 mb-1\">\r\n          <span className=\"text-sm font-medium text-blue-600 truncate\">\r\n            {user.email}\r\n          </span>\r\n          <span className=\"text-xs text-gray-500\">\r\n            {timestamp}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Message content */}\r\n        <div className=\"text-sm text-gray-700 leading-relaxed\">\r\n          {messageParts.map((part, index) => {\r\n            if (part.type === 'mention') {\r\n              return (\r\n                <Tag\r\n                  key={index}\r\n                  text={part.content}\r\n                  email={part.email}\r\n                  onClick={() => onTagClick && onTagClick(part.email)}\r\n                />\r\n              );\r\n            }\r\n            return <span key={index}>{part.content}</span>;\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}