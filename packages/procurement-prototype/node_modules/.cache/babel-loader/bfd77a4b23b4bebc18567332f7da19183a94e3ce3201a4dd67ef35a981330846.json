{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yacov.gorovoy\\\\Documents\\\\Cursor-workspace\\\\procurement-prototype\\\\src\\\\components\\\\Filter.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\n\n/**\r\n * Filter component: can be a button or dropdown, supports single/multi selection.\r\n * @param {string} label - Button label\r\n * @param {Array} options - [{ label, value }]\r\n * @param {boolean} multiple - If true, allows multiple selection\r\n * @param {function} onChange - Called with (selected, active)\r\n * @param {string[]} value - Selected value(s) (for multiple)\r\n * @param {string} value - Selected value (for single)\r\n * @param {boolean} dropdown - If true, renders as dropdown; else as button\r\n * @param {boolean} active - If true, filter is active\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Filter({\n  label = 'Filter',\n  options = [],\n  multiple = false,\n  onChange,\n  value,\n  dropdown = false,\n  active = false,\n  counter\n}) {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [internalValue, setInternalValue] = useState(multiple ? value || [] : value || '');\n  const ref = useRef();\n\n  // Handle click outside to close dropdown\n  React.useEffect(() => {\n    if (!open) return;\n    function handleClick(e) {\n      if (ref.current && !ref.current.contains(e.target)) setOpen(false);\n    }\n    document.addEventListener('mousedown', handleClick);\n    return () => document.removeEventListener('mousedown', handleClick);\n  }, [open]);\n\n  // Handle selection\n  function handleSelect(val) {\n    if (multiple) {\n      let newValue = internalValue.includes(val) ? internalValue.filter(v => v !== val) : [...internalValue, val];\n      setInternalValue(newValue);\n      onChange && onChange(newValue, newValue.length > 0);\n    } else {\n      setInternalValue(val);\n      setOpen(false);\n      onChange && onChange(val, !!val);\n    }\n  }\n\n  // Button mode\n  if (!dropdown) {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `px-4 py-2 rounded border font-semibold transition-colors duration-150 ${active ? 'bg-blue-100 text-blue-700 border-blue-400' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-100'}`,\n      onClick: () => onChange && onChange(!active, !active),\n      type: \"button\",\n      children: [label, typeof counter === 'number' && counter > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2 bg-blue-700 text-white rounded-full px-2 text-xs font-bold\",\n        children: counter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Dropdown mode\n  let displayLabel = label;\n  if (!multiple && value) {\n    const selected = options.find(opt => opt.value === value);\n    if (selected) displayLabel = `${label}: ${selected.label}`;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative inline-block\",\n    ref: ref,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: `px-4 py-2 rounded border font-semibold transition-colors duration-150 flex items-center gap-2 ${open || active ? 'bg-blue-100 text-blue-700 border-blue-400' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-100'}`,\n      onClick: () => setOpen(o => !o),\n      type: \"button\",\n      children: [displayLabel, multiple && Array.isArray(internalValue) && internalValue.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2 bg-blue-700 text-white rounded-full px-2 text-xs font-bold\",\n        children: internalValue.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"w-4 h-4 ml-1\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M19 9l-7 7-7-7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 109\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-30 border border-gray-200 py-2\",\n      children: options.map(opt => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-2 ${multiple && internalValue.includes(opt.value) ? 'bg-blue-100 text-blue-700' : ''} ${!multiple && internalValue === opt.value ? 'bg-blue-100 text-blue-700' : ''}`,\n        onClick: () => handleSelect(opt.value),\n        type: \"button\",\n        children: [opt.label, multiple && internalValue.includes(opt.value) && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-auto text-xs\",\n          children: \"\\u2713\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), !multiple && internalValue === opt.value && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-auto text-xs\",\n          children: \"\\u2713\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this)]\n      }, opt.value, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(Filter, \"fdzyN6QzwhVZxCipcVXSiD3sV7U=\");\n_c = Filter;\nvar _c;\n$RefreshReg$(_c, \"Filter\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","Filter","label","options","multiple","onChange","value","dropdown","active","counter","_s","open","setOpen","internalValue","setInternalValue","ref","useEffect","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","handleSelect","val","newValue","includes","filter","v","length","className","onClick","type","children","fileName","_jsxFileName","lineNumber","columnNumber","displayLabel","selected","find","opt","o","Array","isArray","fill","stroke","strokeWidth","viewBox","d","map","_c","$RefreshReg$"],"sources":["C:/Users/yacov.gorovoy/Documents/Cursor-workspace/procurement-prototype/src/components/Filter.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\n\r\n/**\r\n * Filter component: can be a button or dropdown, supports single/multi selection.\r\n * @param {string} label - Button label\r\n * @param {Array} options - [{ label, value }]\r\n * @param {boolean} multiple - If true, allows multiple selection\r\n * @param {function} onChange - Called with (selected, active)\r\n * @param {string[]} value - Selected value(s) (for multiple)\r\n * @param {string} value - Selected value (for single)\r\n * @param {boolean} dropdown - If true, renders as dropdown; else as button\r\n * @param {boolean} active - If true, filter is active\r\n */\r\nexport default function Filter({\r\n  label = 'Filter',\r\n  options = [],\r\n  multiple = false,\r\n  onChange,\r\n  value,\r\n  dropdown = false,\r\n  active = false,\r\n  counter,\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n  const [internalValue, setInternalValue] = useState(multiple ? (value || []) : (value || ''));\r\n  const ref = useRef();\r\n\r\n  // Handle click outside to close dropdown\r\n  React.useEffect(() => {\r\n    if (!open) return;\r\n    function handleClick(e) {\r\n      if (ref.current && !ref.current.contains(e.target)) setOpen(false);\r\n    }\r\n    document.addEventListener('mousedown', handleClick);\r\n    return () => document.removeEventListener('mousedown', handleClick);\r\n  }, [open]);\r\n\r\n  // Handle selection\r\n  function handleSelect(val) {\r\n    if (multiple) {\r\n      let newValue = internalValue.includes(val)\r\n        ? internalValue.filter(v => v !== val)\r\n        : [...internalValue, val];\r\n      setInternalValue(newValue);\r\n      onChange && onChange(newValue, newValue.length > 0);\r\n    } else {\r\n      setInternalValue(val);\r\n      setOpen(false);\r\n      onChange && onChange(val, !!val);\r\n    }\r\n  }\r\n\r\n  // Button mode\r\n  if (!dropdown) {\r\n    return (\r\n      <button\r\n        className={`px-4 py-2 rounded border font-semibold transition-colors duration-150 ${active ? 'bg-blue-100 text-blue-700 border-blue-400' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-100'}`}\r\n        onClick={() => onChange && onChange(!active, !active)}\r\n        type=\"button\"\r\n      >\r\n        {label}\r\n        {typeof counter === 'number' && counter > 0 && (\r\n          <span className=\"ml-2 bg-blue-700 text-white rounded-full px-2 text-xs font-bold\">{counter}</span>\r\n        )}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  // Dropdown mode\r\n  let displayLabel = label;\r\n  if (!multiple && value) {\r\n    const selected = options.find(opt => opt.value === value);\r\n    if (selected) displayLabel = `${label}: ${selected.label}`;\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative inline-block\" ref={ref}>\r\n      <button\r\n        className={`px-4 py-2 rounded border font-semibold transition-colors duration-150 flex items-center gap-2 ${open || active ? 'bg-blue-100 text-blue-700 border-blue-400' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-100'}`}\r\n        onClick={() => setOpen(o => !o)}\r\n        type=\"button\"\r\n      >\r\n        {displayLabel}\r\n        {multiple && Array.isArray(internalValue) && internalValue.length > 0 && (\r\n          <span className=\"ml-2 bg-blue-700 text-white rounded-full px-2 text-xs font-bold\">{internalValue.length}</span>\r\n        )}\r\n        <svg className=\"w-4 h-4 ml-1\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path d=\"M19 9l-7 7-7-7\" /></svg>\r\n      </button>\r\n      {open && (\r\n        <div className=\"absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-30 border border-gray-200 py-2\">\r\n          {options.map(opt => (\r\n            <button\r\n              key={opt.value}\r\n              className={`w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-2 ${multiple && internalValue.includes(opt.value) ? 'bg-blue-100 text-blue-700' : ''} ${!multiple && internalValue === opt.value ? 'bg-blue-100 text-blue-700' : ''}`}\r\n              onClick={() => handleSelect(opt.value)}\r\n              type=\"button\"\r\n            >\r\n              {opt.label}\r\n              {multiple && internalValue.includes(opt.value) && (\r\n                <span className=\"ml-auto text-xs\">✓</span>\r\n              )}\r\n              {!multiple && internalValue === opt.value && (\r\n                <span className=\"ml-auto text-xs\">✓</span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}