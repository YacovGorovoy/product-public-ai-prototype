{"ast":null,"code":"import React,{useState,useRef}from'react';/**\r\n * Filter component: can be a button or dropdown, supports single/multi selection.\r\n * @param {string} label - Button label\r\n * @param {Array} options - [{ label, value }]\r\n * @param {boolean} multiple - If true, allows multiple selection\r\n * @param {function} onChange - Called with (selected, active)\r\n * @param {string[]} value - Selected value(s) (for multiple)\r\n * @param {string} value - Selected value (for single)\r\n * @param {boolean} dropdown - If true, renders as dropdown; else as button\r\n * @param {boolean} active - If true, filter is active\r\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Filter(_ref){let{label='Filter',options=[],multiple=false,onChange,value,dropdown=false,active=false,counter}=_ref;const[open,setOpen]=useState(false);const[internalValue,setInternalValue]=useState(multiple?value||[]:value||'');const ref=useRef();// Handle click outside to close dropdown\nReact.useEffect(()=>{if(!open)return;function handleClick(e){if(ref.current&&!ref.current.contains(e.target))setOpen(false);}document.addEventListener('mousedown',handleClick);return()=>document.removeEventListener('mousedown',handleClick);},[open]);// Handle selection\nfunction handleSelect(val){if(multiple){let newValue=internalValue.includes(val)?internalValue.filter(v=>v!==val):[...internalValue,val];setInternalValue(newValue);onChange&&onChange(newValue,newValue.length>0);}else{setInternalValue(val);setOpen(false);onChange&&onChange(val,!!val);}}// Button mode\nif(!dropdown){return/*#__PURE__*/_jsxs(\"button\",{className:\"px-4 py-2 rounded border font-semibold transition-colors duration-150 \".concat(active?'bg-blue-100 text-blue-700 border-blue-400':'bg-white text-gray-700 border-gray-300 hover:bg-gray-100'),onClick:()=>onChange&&onChange(!active,!active),type:\"button\",children:[label,typeof counter==='number'&&counter>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-blue-700 text-white rounded-full px-2 text-xs font-bold\",children:counter})]});}// Dropdown mode\nlet displayLabel=label;if(!multiple&&value){const selected=options.find(opt=>opt.value===value);if(selected)displayLabel=\"\".concat(label,\": \").concat(selected.label);}return/*#__PURE__*/_jsxs(\"div\",{className:\"relative inline-block\",ref:ref,children:[/*#__PURE__*/_jsxs(\"button\",{className:\"px-4 py-2 rounded border font-semibold transition-colors duration-150 flex items-center gap-2 \".concat(open||active?'bg-blue-100 text-blue-700 border-blue-400':'bg-white text-gray-700 border-gray-300 hover:bg-gray-100'),onClick:()=>setOpen(o=>!o),type:\"button\",children:[displayLabel,multiple&&Array.isArray(internalValue)&&internalValue.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 bg-blue-700 text-white rounded-full px-2 text-xs font-bold\",children:internalValue.length}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 ml-1\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 9l-7 7-7-7\"})})]}),open&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-30 border border-gray-200 py-2\",children:options.map(opt=>/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-2 \".concat(multiple&&internalValue.includes(opt.value)?'bg-blue-100 text-blue-700':'',\" \").concat(!multiple&&internalValue===opt.value?'bg-blue-100 text-blue-700':''),onClick:()=>handleSelect(opt.value),type:\"button\",children:[opt.label,multiple&&internalValue.includes(opt.value)&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-auto text-xs\",children:\"\\u2713\"}),!multiple&&internalValue===opt.value&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-auto text-xs\",children:\"\\u2713\"})]},opt.value))})]});}","map":{"version":3,"names":["React","useState","useRef","jsx","_jsx","jsxs","_jsxs","Filter","_ref","label","options","multiple","onChange","value","dropdown","active","counter","open","setOpen","internalValue","setInternalValue","ref","useEffect","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","handleSelect","val","newValue","includes","filter","v","length","className","concat","onClick","type","children","displayLabel","selected","find","opt","o","Array","isArray","fill","stroke","strokeWidth","viewBox","d","map"],"sources":["C:/Users/yacov.gorovoy/Documents/Cursor-workspace/procurement-prototype/src/components/Filter.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\n\r\n/**\r\n * Filter component: can be a button or dropdown, supports single/multi selection.\r\n * @param {string} label - Button label\r\n * @param {Array} options - [{ label, value }]\r\n * @param {boolean} multiple - If true, allows multiple selection\r\n * @param {function} onChange - Called with (selected, active)\r\n * @param {string[]} value - Selected value(s) (for multiple)\r\n * @param {string} value - Selected value (for single)\r\n * @param {boolean} dropdown - If true, renders as dropdown; else as button\r\n * @param {boolean} active - If true, filter is active\r\n */\r\nexport default function Filter({\r\n  label = 'Filter',\r\n  options = [],\r\n  multiple = false,\r\n  onChange,\r\n  value,\r\n  dropdown = false,\r\n  active = false,\r\n  counter,\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n  const [internalValue, setInternalValue] = useState(multiple ? (value || []) : (value || ''));\r\n  const ref = useRef();\r\n\r\n  // Handle click outside to close dropdown\r\n  React.useEffect(() => {\r\n    if (!open) return;\r\n    function handleClick(e) {\r\n      if (ref.current && !ref.current.contains(e.target)) setOpen(false);\r\n    }\r\n    document.addEventListener('mousedown', handleClick);\r\n    return () => document.removeEventListener('mousedown', handleClick);\r\n  }, [open]);\r\n\r\n  // Handle selection\r\n  function handleSelect(val) {\r\n    if (multiple) {\r\n      let newValue = internalValue.includes(val)\r\n        ? internalValue.filter(v => v !== val)\r\n        : [...internalValue, val];\r\n      setInternalValue(newValue);\r\n      onChange && onChange(newValue, newValue.length > 0);\r\n    } else {\r\n      setInternalValue(val);\r\n      setOpen(false);\r\n      onChange && onChange(val, !!val);\r\n    }\r\n  }\r\n\r\n  // Button mode\r\n  if (!dropdown) {\r\n    return (\r\n      <button\r\n        className={`px-4 py-2 rounded border font-semibold transition-colors duration-150 ${active ? 'bg-blue-100 text-blue-700 border-blue-400' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-100'}`}\r\n        onClick={() => onChange && onChange(!active, !active)}\r\n        type=\"button\"\r\n      >\r\n        {label}\r\n        {typeof counter === 'number' && counter > 0 && (\r\n          <span className=\"ml-2 bg-blue-700 text-white rounded-full px-2 text-xs font-bold\">{counter}</span>\r\n        )}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  // Dropdown mode\r\n  let displayLabel = label;\r\n  if (!multiple && value) {\r\n    const selected = options.find(opt => opt.value === value);\r\n    if (selected) displayLabel = `${label}: ${selected.label}`;\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative inline-block\" ref={ref}>\r\n      <button\r\n        className={`px-4 py-2 rounded border font-semibold transition-colors duration-150 flex items-center gap-2 ${open || active ? 'bg-blue-100 text-blue-700 border-blue-400' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-100'}`}\r\n        onClick={() => setOpen(o => !o)}\r\n        type=\"button\"\r\n      >\r\n        {displayLabel}\r\n        {multiple && Array.isArray(internalValue) && internalValue.length > 0 && (\r\n          <span className=\"ml-2 bg-blue-700 text-white rounded-full px-2 text-xs font-bold\">{internalValue.length}</span>\r\n        )}\r\n        <svg className=\"w-4 h-4 ml-1\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\"><path d=\"M19 9l-7 7-7-7\" /></svg>\r\n      </button>\r\n      {open && (\r\n        <div className=\"absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-30 border border-gray-200 py-2\">\r\n          {options.map(opt => (\r\n            <button\r\n              key={opt.value}\r\n              className={`w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-2 ${multiple && internalValue.includes(opt.value) ? 'bg-blue-100 text-blue-700' : ''} ${!multiple && internalValue === opt.value ? 'bg-blue-100 text-blue-700' : ''}`}\r\n              onClick={() => handleSelect(opt.value)}\r\n              type=\"button\"\r\n            >\r\n              {opt.label}\r\n              {multiple && internalValue.includes(opt.value) && (\r\n                <span className=\"ml-auto text-xs\">✓</span>\r\n              )}\r\n              {!multiple && internalValue === opt.value && (\r\n                <span className=\"ml-auto text-xs\">✓</span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}