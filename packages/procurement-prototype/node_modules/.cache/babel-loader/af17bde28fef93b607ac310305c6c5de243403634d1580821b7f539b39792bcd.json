{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yacov.gorovoy\\\\Documents\\\\Cursor-workspace\\\\procurement-prototype\\\\src\\\\pages\\\\RequestForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Sidebar from '../components/Sidebar';\nimport Header from '../components/Header';\nimport Button from '../components/Button';\nimport BackLink from '../components/BackLink';\nimport Stepper from '../components/Stepper';\nimport FormInput from '../components/FormInput';\nimport FormSelect from '../components/FormSelect';\nimport FormTextarea from '../components/FormTextarea';\nimport LineItemsTable from '../components/LineItemsTable';\nimport { SUPPLIERS, PURCHASE_TYPES, SUBSIDIARIES, saveDraft, getDraft, generateDraftId, saveCurrentDraft, clearCurrentDraft } from '../utils/mockData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RequestForm({\n  onNavigate,\n  draftId,\n  aiData\n}) {\n  _s();\n  var _steps$currentStep;\n  const [currentStep, setCurrentStep] = useState(0);\n  const [formData, setFormData] = useState({\n    id: draftId || generateDraftId(),\n    title: '',\n    supplier: '',\n    purchaseType: '',\n    subsidiary: '',\n    description: '',\n    lineItems: [{\n      currency: 'USD',\n      amount: '',\n      quantity: '1',\n      desc: ''\n    }],\n    supplierInfo: {\n      companyName: '',\n      contactName: '',\n      email: '',\n      phone: '',\n      address: '',\n      taxId: ''\n    },\n    security: {\n      riskLevel: '',\n      complianceRequired: false,\n      securityNotes: ''\n    }\n  });\n  const [errors, setErrors] = useState({});\n  const [isNewVendor, setIsNewVendor] = useState(false);\n  useEffect(() => {\n    // Load existing draft if draftId provided\n    if (draftId) {\n      const existingDraft = getDraft(draftId);\n      if (existingDraft) {\n        setFormData(existingDraft);\n        setIsNewVendor(existingDraft.supplier === 'new_vendor');\n      }\n    }\n\n    // Load AI data if provided\n    if (aiData) {\n      setFormData(prev => ({\n        ...prev,\n        title: aiData.title || '',\n        supplier: aiData.supplier || '',\n        purchaseType: aiData.purchaseType || '',\n        subsidiary: aiData.subsidiary || '',\n        description: aiData.description || '',\n        lineItems: aiData.lineItems || [{\n          currency: 'USD',\n          amount: '',\n          quantity: '1',\n          desc: ''\n        }]\n      }));\n      setIsNewVendor(aiData.supplier === 'new_vendor');\n    }\n  }, [draftId, aiData]);\n  useEffect(() => {\n    // Save current draft to session storage\n    saveCurrentDraft(formData);\n  }, [formData]);\n  const steps = [{\n    label: 'Purchase details',\n    active: currentStep === 0,\n    completed: currentStep > 0\n  }, {\n    label: 'Supplier info',\n    active: currentStep === 1,\n    completed: currentStep > 1,\n    required: isNewVendor\n  }, {\n    label: 'Security',\n    active: currentStep === 2,\n    completed: currentStep > 2,\n    required: isNewVendor\n  }, {\n    label: 'Review & Submit',\n    active: currentStep === 3,\n    completed: false\n  }].filter(step => !step.required || step.required === isNewVendor);\n  const validateCurrentStep = () => {\n    const newErrors = {};\n    if (currentStep === 0) {\n      if (!formData.title.trim()) newErrors.title = 'Title is required';\n      if (!formData.supplier) newErrors.supplier = 'Supplier is required';\n      if (!formData.purchaseType) newErrors.purchaseType = 'Purchase type is required';\n      if (!formData.subsidiary) newErrors.subsidiary = 'Subsidiary is required';\n      if (!formData.description.trim()) newErrors.description = 'Description is required';\n\n      // Validate line items\n      const lineItemErrors = formData.lineItems.map(item => {\n        const itemErrors = {};\n        if (!item.amount || parseFloat(item.amount) <= 0) itemErrors.amount = 'Valid amount is required';\n        if (!item.desc.trim()) itemErrors.desc = 'Description is required';\n        return itemErrors;\n      });\n      if (lineItemErrors.some(errors => Object.keys(errors).length > 0)) {\n        newErrors.lineItems = lineItemErrors;\n      }\n    }\n    if (currentStep === 1 && isNewVendor) {\n      if (!formData.supplierInfo.companyName.trim()) newErrors.companyName = 'Company name is required';\n      if (!formData.supplierInfo.contactName.trim()) newErrors.contactName = 'Contact name is required';\n      if (!formData.supplierInfo.email.trim()) newErrors.email = 'Email is required';\n    }\n    if (currentStep === 2 && isNewVendor) {\n      if (!formData.security.riskLevel) newErrors.riskLevel = 'Risk level is required';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleNext = () => {\n    if (validateCurrentStep()) {\n      if (currentStep < steps.length - 1) {\n        setCurrentStep(currentStep + 1);\n      } else {\n        handleSubmit();\n      }\n    }\n  };\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    } else {\n      onNavigate('home');\n    }\n  };\n  const handleSaveDraft = () => {\n    saveDraft(formData);\n    onNavigate('home');\n  };\n  const handleSubmit = () => {\n    if (validateCurrentStep()) {\n      // Save as submitted request (in real app, this would go to backend)\n      console.log('Submitting request:', formData);\n      clearCurrentDraft();\n      onNavigate('home');\n    }\n  };\n  const handleSupplierChange = value => {\n    setFormData(prev => ({\n      ...prev,\n      supplier: value\n    }));\n    setIsNewVendor(value === 'new_vendor');\n  };\n  const handleLineItemsChange = items => {\n    setFormData(prev => ({\n      ...prev,\n      lineItems: items\n    }));\n  };\n  const renderStepContent = () => {\n    switch (currentStep) {\n      case 0:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Request Title\",\n            value: formData.title,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              title: e.target.value\n            })),\n            placeholder: \"e.g., Zoom Premium Licenses for Sales Team\",\n            required: true,\n            className: errors.title ? 'border-red-500' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: errors.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n            label: \"Supplier\",\n            value: formData.supplier,\n            onChange: handleSupplierChange,\n            options: [...SUPPLIERS, {\n              value: 'new_vendor',\n              label: 'Add new vendor'\n            }],\n            placeholder: \"Select supplier\",\n            required: true,\n            searchPlaceholder: \"Search suppliers...\",\n            action: {\n              label: 'Add new vendor',\n              onClick: () => handleSupplierChange('new_vendor')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), errors.supplier && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: errors.supplier\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n            label: \"Purchase Type\",\n            value: formData.purchaseType,\n            onChange: value => setFormData(prev => ({\n              ...prev,\n              purchaseType: value\n            })),\n            options: PURCHASE_TYPES,\n            placeholder: \"Select purchase type\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), errors.purchaseType && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: errors.purchaseType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n            label: \"Subsidiary\",\n            value: formData.subsidiary,\n            onChange: value => setFormData(prev => ({\n              ...prev,\n              subsidiary: value\n            })),\n            options: SUBSIDIARIES,\n            placeholder: \"Select subsidiary\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), errors.subsidiary && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: errors.subsidiary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(FormTextarea, {\n            label: \"Description\",\n            value: formData.description,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              description: e.target.value\n            })),\n            placeholder: \"Describe the purpose and details of this purchase request\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: errors.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block mb-2 font-medium text-gray-600\",\n              children: \"Line Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(LineItemsTable, {\n              items: formData.lineItems,\n              onItemChange: handleLineItemsChange,\n              maxItems: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this);\n      case 1:\n        if (!isNewVendor) return null;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Company Name\",\n            value: formData.supplierInfo.companyName,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              supplierInfo: {\n                ...prev.supplierInfo,\n                companyName: e.target.value\n              }\n            })),\n            placeholder: \"Enter company name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), errors.companyName && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: errors.companyName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Contact Name\",\n            value: formData.supplierInfo.contactName,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              supplierInfo: {\n                ...prev.supplierInfo,\n                contactName: e.target.value\n              }\n            })),\n            placeholder: \"Enter contact person name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), errors.contactName && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: errors.contactName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Email\",\n            type: \"email\",\n            value: formData.supplierInfo.email,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              supplierInfo: {\n                ...prev.supplierInfo,\n                email: e.target.value\n              }\n            })),\n            placeholder: \"Enter contact email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Phone\",\n            value: formData.supplierInfo.phone,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              supplierInfo: {\n                ...prev.supplierInfo,\n                phone: e.target.value\n              }\n            })),\n            placeholder: \"Enter contact phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormTextarea, {\n            label: \"Address\",\n            value: formData.supplierInfo.address,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              supplierInfo: {\n                ...prev.supplierInfo,\n                address: e.target.value\n              }\n            })),\n            placeholder: \"Enter company address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Tax ID\",\n            value: formData.supplierInfo.taxId,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              supplierInfo: {\n                ...prev.supplierInfo,\n                taxId: e.target.value\n              }\n            })),\n            placeholder: \"Enter tax identification number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this);\n      case 2:\n        if (!isNewVendor) return null;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(FormSelect, {\n            label: \"Risk Level\",\n            value: formData.security.riskLevel,\n            onChange: value => setFormData(prev => ({\n              ...prev,\n              security: {\n                ...prev.security,\n                riskLevel: value\n              }\n            })),\n            options: [{\n              value: 'low',\n              label: 'Low Risk'\n            }, {\n              value: 'medium',\n              label: 'Medium Risk'\n            }, {\n              value: 'high',\n              label: 'High Risk'\n            }],\n            placeholder: \"Select risk level\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), errors.riskLevel && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: errors.riskLevel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: formData.security.complianceRequired,\n                onChange: e => setFormData(prev => ({\n                  ...prev,\n                  security: {\n                    ...prev.security,\n                    complianceRequired: e.target.checked\n                  }\n                })),\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"Compliance review required\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormTextarea, {\n            label: \"Security Notes\",\n            value: formData.security.securityNotes,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              security: {\n                ...prev.security,\n                securityNotes: e.target.value\n              }\n            })),\n            placeholder: \"Any additional security considerations or notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-gray-800 mb-4\",\n              children: \"Request Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Title:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 22\n                }, this), \" \", formData.title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Supplier:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 22\n                }, this), \" \", formData.supplier]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 22\n                }, this), \" \", formData.purchaseType]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Subsidiary:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 22\n                }, this), \" \", formData.subsidiary]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Description:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 22\n                }, this), \" \", formData.description]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Total Items:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 22\n                }, this), \" \", formData.lineItems.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Total Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 22\n                }, this), \" USD \", formData.lineItems.reduce((sum, item) => sum + (parseFloat(item.amount) || 0) * (parseInt(item.quantity) || 1), 0).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      active: \"home\",\n      onNavClick: key => console.log('Nav:', key)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-64 bg-white border-r border-gray-200 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(BackLink, {\n          onClick: handleBack,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stepper, {\n          steps: steps,\n          onStepClick: setCurrentStep\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          userName: \"YacovProcPayer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 p-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-4xl mx-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-gray-800 mb-2\",\n                children: (_steps$currentStep = steps[currentStep]) === null || _steps$currentStep === void 0 ? void 0 : _steps$currentStep.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: [currentStep === 0 && 'Enter the basic details of your purchase request', currentStep === 1 && 'Provide information about the new supplier', currentStep === 2 && 'Complete security assessment for the new vendor', currentStep === 3 && 'Review your request before submission']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg border border-gray-200 p-8\",\n              children: [renderStepContent(), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between mt-8 pt-6 border-t border-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  onClick: handleSaveDraft,\n                  children: \"Save Draft\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex space-x-4\",\n                  children: [currentStep > 0 && /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"secondary\",\n                    onClick: handleBack,\n                    children: \"Back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    onClick: handleNext,\n                    children: currentStep === steps.length - 1 ? 'Submit Request' : 'Next'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 377,\n    columnNumber: 5\n  }, this);\n}\n_s(RequestForm, \"6s1hK3XiqL4dNOuSbEQWfRyWBf8=\");\n_c = RequestForm;\nvar _c;\n$RefreshReg$(_c, \"RequestForm\");","map":{"version":3,"names":["React","useState","useEffect","Sidebar","Header","Button","BackLink","Stepper","FormInput","FormSelect","FormTextarea","LineItemsTable","SUPPLIERS","PURCHASE_TYPES","SUBSIDIARIES","saveDraft","getDraft","generateDraftId","saveCurrentDraft","clearCurrentDraft","jsxDEV","_jsxDEV","RequestForm","onNavigate","draftId","aiData","_s","_steps$currentStep","currentStep","setCurrentStep","formData","setFormData","id","title","supplier","purchaseType","subsidiary","description","lineItems","currency","amount","quantity","desc","supplierInfo","companyName","contactName","email","phone","address","taxId","security","riskLevel","complianceRequired","securityNotes","errors","setErrors","isNewVendor","setIsNewVendor","existingDraft","prev","steps","label","active","completed","required","filter","step","validateCurrentStep","newErrors","trim","lineItemErrors","map","item","itemErrors","parseFloat","some","Object","keys","length","handleNext","handleSubmit","handleBack","handleSaveDraft","console","log","handleSupplierChange","value","handleLineItemsChange","items","renderStepContent","className","children","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","options","searchPlaceholder","action","onClick","onItemChange","maxItems","type","checked","reduce","sum","parseInt","toFixed","onNavClick","key","onStepClick","userName","variant","_c","$RefreshReg$"],"sources":["C:/Users/yacov.gorovoy/Documents/Cursor-workspace/procurement-prototype/src/pages/RequestForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Sidebar from '../components/Sidebar';\r\nimport Header from '../components/Header';\r\nimport Button from '../components/Button';\r\nimport BackLink from '../components/BackLink';\r\nimport Stepper from '../components/Stepper';\r\nimport FormInput from '../components/FormInput';\r\nimport FormSelect from '../components/FormSelect';\r\nimport FormTextarea from '../components/FormTextarea';\r\nimport LineItemsTable from '../components/LineItemsTable';\r\nimport { \r\n  SUPPLIERS, \r\n  PURCHASE_TYPES, \r\n  SUBSIDIARIES, \r\n  saveDraft, \r\n  getDraft, \r\n  generateDraftId,\r\n  saveCurrentDraft,\r\n  clearCurrentDraft\r\n} from '../utils/mockData';\r\n\r\nexport default function RequestForm({ onNavigate, draftId, aiData }) {\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [formData, setFormData] = useState({\r\n    id: draftId || generateDraftId(),\r\n    title: '',\r\n    supplier: '',\r\n    purchaseType: '',\r\n    subsidiary: '',\r\n    description: '',\r\n    lineItems: [{ currency: 'USD', amount: '', quantity: '1', desc: '' }],\r\n    supplierInfo: {\r\n      companyName: '',\r\n      contactName: '',\r\n      email: '',\r\n      phone: '',\r\n      address: '',\r\n      taxId: ''\r\n    },\r\n    security: {\r\n      riskLevel: '',\r\n      complianceRequired: false,\r\n      securityNotes: ''\r\n    }\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const [isNewVendor, setIsNewVendor] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Load existing draft if draftId provided\r\n    if (draftId) {\r\n      const existingDraft = getDraft(draftId);\r\n      if (existingDraft) {\r\n        setFormData(existingDraft);\r\n        setIsNewVendor(existingDraft.supplier === 'new_vendor');\r\n      }\r\n    }\r\n    \r\n    // Load AI data if provided\r\n    if (aiData) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        title: aiData.title || '',\r\n        supplier: aiData.supplier || '',\r\n        purchaseType: aiData.purchaseType || '',\r\n        subsidiary: aiData.subsidiary || '',\r\n        description: aiData.description || '',\r\n        lineItems: aiData.lineItems || [{ currency: 'USD', amount: '', quantity: '1', desc: '' }]\r\n      }));\r\n      setIsNewVendor(aiData.supplier === 'new_vendor');\r\n    }\r\n  }, [draftId, aiData]);\r\n\r\n  useEffect(() => {\r\n    // Save current draft to session storage\r\n    saveCurrentDraft(formData);\r\n  }, [formData]);\r\n\r\n  const steps = [\r\n    { label: 'Purchase details', active: currentStep === 0, completed: currentStep > 0 },\r\n    { label: 'Supplier info', active: currentStep === 1, completed: currentStep > 1, required: isNewVendor },\r\n    { label: 'Security', active: currentStep === 2, completed: currentStep > 2, required: isNewVendor },\r\n    { label: 'Review & Submit', active: currentStep === 3, completed: false }\r\n  ].filter(step => !step.required || step.required === isNewVendor);\r\n\r\n  const validateCurrentStep = () => {\r\n    const newErrors = {};\r\n    \r\n    if (currentStep === 0) {\r\n      if (!formData.title.trim()) newErrors.title = 'Title is required';\r\n      if (!formData.supplier) newErrors.supplier = 'Supplier is required';\r\n      if (!formData.purchaseType) newErrors.purchaseType = 'Purchase type is required';\r\n      if (!formData.subsidiary) newErrors.subsidiary = 'Subsidiary is required';\r\n      if (!formData.description.trim()) newErrors.description = 'Description is required';\r\n      \r\n      // Validate line items\r\n      const lineItemErrors = formData.lineItems.map(item => {\r\n        const itemErrors = {};\r\n        if (!item.amount || parseFloat(item.amount) <= 0) itemErrors.amount = 'Valid amount is required';\r\n        if (!item.desc.trim()) itemErrors.desc = 'Description is required';\r\n        return itemErrors;\r\n      });\r\n      if (lineItemErrors.some(errors => Object.keys(errors).length > 0)) {\r\n        newErrors.lineItems = lineItemErrors;\r\n      }\r\n    }\r\n    \r\n    if (currentStep === 1 && isNewVendor) {\r\n      if (!formData.supplierInfo.companyName.trim()) newErrors.companyName = 'Company name is required';\r\n      if (!formData.supplierInfo.contactName.trim()) newErrors.contactName = 'Contact name is required';\r\n      if (!formData.supplierInfo.email.trim()) newErrors.email = 'Email is required';\r\n    }\r\n    \r\n    if (currentStep === 2 && isNewVendor) {\r\n      if (!formData.security.riskLevel) newErrors.riskLevel = 'Risk level is required';\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (validateCurrentStep()) {\r\n      if (currentStep < steps.length - 1) {\r\n        setCurrentStep(currentStep + 1);\r\n      } else {\r\n        handleSubmit();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (currentStep > 0) {\r\n      setCurrentStep(currentStep - 1);\r\n    } else {\r\n      onNavigate('home');\r\n    }\r\n  };\r\n\r\n  const handleSaveDraft = () => {\r\n    saveDraft(formData);\r\n    onNavigate('home');\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (validateCurrentStep()) {\r\n      // Save as submitted request (in real app, this would go to backend)\r\n      console.log('Submitting request:', formData);\r\n      clearCurrentDraft();\r\n      onNavigate('home');\r\n    }\r\n  };\r\n\r\n  const handleSupplierChange = (value) => {\r\n    setFormData(prev => ({ ...prev, supplier: value }));\r\n    setIsNewVendor(value === 'new_vendor');\r\n  };\r\n\r\n  const handleLineItemsChange = (items) => {\r\n    setFormData(prev => ({ ...prev, lineItems: items }));\r\n  };\r\n\r\n  const renderStepContent = () => {\r\n    switch (currentStep) {\r\n      case 0:\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <FormInput\r\n              label=\"Request Title\"\r\n              value={formData.title}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n              placeholder=\"e.g., Zoom Premium Licenses for Sales Team\"\r\n              required\r\n              className={errors.title ? 'border-red-500' : ''}\r\n            />\r\n            {errors.title && <p className=\"text-red-500 text-sm\">{errors.title}</p>}\r\n            \r\n            <FormSelect\r\n              label=\"Supplier\"\r\n              value={formData.supplier}\r\n              onChange={handleSupplierChange}\r\n              options={[...SUPPLIERS, { value: 'new_vendor', label: 'Add new vendor' }]}\r\n              placeholder=\"Select supplier\"\r\n              required\r\n              searchPlaceholder=\"Search suppliers...\"\r\n              action={{ label: 'Add new vendor', onClick: () => handleSupplierChange('new_vendor') }}\r\n            />\r\n            {errors.supplier && <p className=\"text-red-500 text-sm\">{errors.supplier}</p>}\r\n            \r\n            <FormSelect\r\n              label=\"Purchase Type\"\r\n              value={formData.purchaseType}\r\n              onChange={(value) => setFormData(prev => ({ ...prev, purchaseType: value }))}\r\n              options={PURCHASE_TYPES}\r\n              placeholder=\"Select purchase type\"\r\n              required\r\n            />\r\n            {errors.purchaseType && <p className=\"text-red-500 text-sm\">{errors.purchaseType}</p>}\r\n            \r\n            <FormSelect\r\n              label=\"Subsidiary\"\r\n              value={formData.subsidiary}\r\n              onChange={(value) => setFormData(prev => ({ ...prev, subsidiary: value }))}\r\n              options={SUBSIDIARIES}\r\n              placeholder=\"Select subsidiary\"\r\n              required\r\n            />\r\n            {errors.subsidiary && <p className=\"text-red-500 text-sm\">{errors.subsidiary}</p>}\r\n            \r\n            <FormTextarea\r\n              label=\"Description\"\r\n              value={formData.description}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n              placeholder=\"Describe the purpose and details of this purchase request\"\r\n              required\r\n            />\r\n            {errors.description && <p className=\"text-red-500 text-sm\">{errors.description}</p>}\r\n            \r\n            <div>\r\n              <label className=\"block mb-2 font-medium text-gray-600\">Line Items</label>\r\n              <LineItemsTable\r\n                items={formData.lineItems}\r\n                onItemChange={handleLineItemsChange}\r\n                maxItems={20}\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n        \r\n      case 1:\r\n        if (!isNewVendor) return null;\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <FormInput\r\n              label=\"Company Name\"\r\n              value={formData.supplierInfo.companyName}\r\n              onChange={(e) => setFormData(prev => ({ \r\n                ...prev, \r\n                supplierInfo: { ...prev.supplierInfo, companyName: e.target.value }\r\n              }))}\r\n              placeholder=\"Enter company name\"\r\n              required\r\n            />\r\n            {errors.companyName && <p className=\"text-red-500 text-sm\">{errors.companyName}</p>}\r\n            \r\n            <FormInput\r\n              label=\"Contact Name\"\r\n              value={formData.supplierInfo.contactName}\r\n              onChange={(e) => setFormData(prev => ({ \r\n                ...prev, \r\n                supplierInfo: { ...prev.supplierInfo, contactName: e.target.value }\r\n              }))}\r\n              placeholder=\"Enter contact person name\"\r\n              required\r\n            />\r\n            {errors.contactName && <p className=\"text-red-500 text-sm\">{errors.contactName}</p>}\r\n            \r\n            <FormInput\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={formData.supplierInfo.email}\r\n              onChange={(e) => setFormData(prev => ({ \r\n                ...prev, \r\n                supplierInfo: { ...prev.supplierInfo, email: e.target.value }\r\n              }))}\r\n              placeholder=\"Enter contact email\"\r\n              required\r\n            />\r\n            {errors.email && <p className=\"text-red-500 text-sm\">{errors.email}</p>}\r\n            \r\n            <FormInput\r\n              label=\"Phone\"\r\n              value={formData.supplierInfo.phone}\r\n              onChange={(e) => setFormData(prev => ({ \r\n                ...prev, \r\n                supplierInfo: { ...prev.supplierInfo, phone: e.target.value }\r\n              }))}\r\n              placeholder=\"Enter contact phone\"\r\n            />\r\n            \r\n            <FormTextarea\r\n              label=\"Address\"\r\n              value={formData.supplierInfo.address}\r\n              onChange={(e) => setFormData(prev => ({ \r\n                ...prev, \r\n                supplierInfo: { ...prev.supplierInfo, address: e.target.value }\r\n              }))}\r\n              placeholder=\"Enter company address\"\r\n            />\r\n            \r\n            <FormInput\r\n              label=\"Tax ID\"\r\n              value={formData.supplierInfo.taxId}\r\n              onChange={(e) => setFormData(prev => ({ \r\n                ...prev, \r\n                supplierInfo: { ...prev.supplierInfo, taxId: e.target.value }\r\n              }))}\r\n              placeholder=\"Enter tax identification number\"\r\n            />\r\n          </div>\r\n        );\r\n        \r\n      case 2:\r\n        if (!isNewVendor) return null;\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <FormSelect\r\n              label=\"Risk Level\"\r\n              value={formData.security.riskLevel}\r\n              onChange={(value) => setFormData(prev => ({ \r\n                ...prev, \r\n                security: { ...prev.security, riskLevel: value }\r\n              }))}\r\n              options={[\r\n                { value: 'low', label: 'Low Risk' },\r\n                { value: 'medium', label: 'Medium Risk' },\r\n                { value: 'high', label: 'High Risk' }\r\n              ]}\r\n              placeholder=\"Select risk level\"\r\n              required\r\n            />\r\n            {errors.riskLevel && <p className=\"text-red-500 text-sm\">{errors.riskLevel}</p>}\r\n            \r\n            <div>\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.security.complianceRequired}\r\n                  onChange={(e) => setFormData(prev => ({ \r\n                    ...prev, \r\n                    security: { ...prev.security, complianceRequired: e.target.checked }\r\n                  }))}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm font-medium text-gray-700\">Compliance review required</span>\r\n              </label>\r\n            </div>\r\n            \r\n            <FormTextarea\r\n              label=\"Security Notes\"\r\n              value={formData.security.securityNotes}\r\n              onChange={(e) => setFormData(prev => ({ \r\n                ...prev, \r\n                security: { ...prev.security, securityNotes: e.target.value }\r\n              }))}\r\n              placeholder=\"Any additional security considerations or notes\"\r\n            />\r\n          </div>\r\n        );\r\n        \r\n      case 3:\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-gray-50 rounded-lg p-6\">\r\n              <h3 className=\"font-medium text-gray-800 mb-4\">Request Summary</h3>\r\n              <div className=\"space-y-3 text-sm\">\r\n                <div><span className=\"font-medium\">Title:</span> {formData.title}</div>\r\n                <div><span className=\"font-medium\">Supplier:</span> {formData.supplier}</div>\r\n                <div><span className=\"font-medium\">Type:</span> {formData.purchaseType}</div>\r\n                <div><span className=\"font-medium\">Subsidiary:</span> {formData.subsidiary}</div>\r\n                <div><span className=\"font-medium\">Description:</span> {formData.description}</div>\r\n                <div><span className=\"font-medium\">Total Items:</span> {formData.lineItems.length}</div>\r\n                <div><span className=\"font-medium\">Total Amount:</span> USD {formData.lineItems.reduce((sum, item) => \r\n                  sum + (parseFloat(item.amount) || 0) * (parseInt(item.quantity) || 1), 0\r\n                ).toFixed(2)}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n        \r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      <Sidebar active=\"home\" onNavClick={key => console.log('Nav:', key)} />\r\n      <div className=\"flex-1 flex\">\r\n        <div className=\"w-64 bg-white border-r border-gray-200 p-6\">\r\n          <BackLink onClick={handleBack}>Back</BackLink>\r\n          <Stepper steps={steps} onStepClick={setCurrentStep} />\r\n        </div>\r\n        \r\n        <div className=\"flex-1 flex flex-col\">\r\n          <Header userName=\"YacovProcPayer\" />\r\n          \r\n          <div className=\"flex-1 p-8\">\r\n            <div className=\"max-w-4xl mx-auto\">\r\n              <div className=\"mb-8\">\r\n                <h1 className=\"text-2xl font-bold text-gray-800 mb-2\">\r\n                  {steps[currentStep]?.label}\r\n                </h1>\r\n                <p className=\"text-gray-600\">\r\n                  {currentStep === 0 && 'Enter the basic details of your purchase request'}\r\n                  {currentStep === 1 && 'Provide information about the new supplier'}\r\n                  {currentStep === 2 && 'Complete security assessment for the new vendor'}\r\n                  {currentStep === 3 && 'Review your request before submission'}\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"bg-white rounded-lg border border-gray-200 p-8\">\r\n                {renderStepContent()}\r\n                \r\n                <div className=\"flex justify-between mt-8 pt-6 border-t border-gray-200\">\r\n                  <Button variant=\"secondary\" onClick={handleSaveDraft}>\r\n                    Save Draft\r\n                  </Button>\r\n                  \r\n                  <div className=\"flex space-x-4\">\r\n                    {currentStep > 0 && (\r\n                      <Button variant=\"secondary\" onClick={handleBack}>\r\n                        Back\r\n                      </Button>\r\n                    )}\r\n                    <Button \r\n                      variant=\"primary\" \r\n                      onClick={handleNext}\r\n                    >\r\n                      {currentStep === steps.length - 1 ? 'Submit Request' : 'Next'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}